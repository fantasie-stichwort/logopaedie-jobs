---
// src/components/JobSchema.astro

// 1. Datum automatisch auf "Heute" setzen (für Google Frische-Bonus)
const today = new Date();
const datePosted = today.toISOString().split('T')[0];

// 2. Ablaufdatum automatisch auf "Heute + 3 Monate"
const validUntil = new Date();
validUntil.setMonth(validUntil.getMonth() + 3);
const validThrough = validUntil.toISOString().split('T')[0];

// 3. Deine ECHTEN Daten
const jobData = {
  title: "Logopäde / Sprachtherapeut (m/w/d)",
  description: "Werde Teil unseres bilingualen Teams (Deutsch-Türkisch) in Duisburg. Wir bieten Spezialisierungen in Pädiatrie, Neurologie und Stimmtherapie (ISTP, Lax Vox®). Genieße eine flexible 4-Tage-Woche, Top-Gehalt und moderne Praxisräume im 3. OG (mit Aufzug) direkt in der Tonhallenstraße 21, nur 2 Min. vom Hbf.",
  orgName: "Praxis für Logopädie Şimşek",
  
  // HIER SIND DIE PLATZHALTER JETZT ERSETZT:
  url: "https://xn--logopdiejobs-kcb.de/", 
  logo: "https://xn--logopdiejobs-kcb.de/logo.svg", // Achtung: Stelle sicher, dass logo.png im 'public' Ordner liegt!
  
  location: {
    city: "Duisburg",
    zip: "47051",
    street: "Tonhallenstraße 21"
  },
  salary: {
    min: 3800,
    max: 5200, 
    currency: "EUR"
  }
};
---

<script type="application/ld+json" is:inline set:html={JSON.stringify({
  "@context": "https://schema.org/",
  "@type": "JobPosting",
  "title": jobData.title,
  "description": jobData.description,
  "identifier": {
    "@type": "PropertyValue",
    "name": jobData.orgName,
    "value": "LOGO-JOB-DUI-01"
  },
  "hiringOrganization": {
    "@type": "Organization",
    "name": jobData.orgName,
    "sameAs": jobData.url,
    "logo": jobData.logo
  },
  "jobLocation": {
    "@type": "Place",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": jobData.location.street,
      "addressLocality": jobData.location.city,
      "postalCode": jobData.location.zip,
      "addressCountry": "DE"
    }
  },
  "baseSalary": {
    "@type": "MonetaryAmount",
    "currency": jobData.salary.currency,
    "value": {
      "@type": "QuantitativeValue",
      "minValue": jobData.salary.min,
      "maxValue": jobData.salary.max,
      "unitText": "MONTH"
    }
  },
  "datePosted": datePosted,
  "validThrough": validThrough,
  "employmentType": "FULL_TIME",
  "directApply": true, 
  "jobBenefits": "4-Tage-Woche möglich, 100% Fortbildungskosten, zentrale Lage am Hbf, modernes Material",
  "occupationalCategory": "29-1127.00"
})} />